!function(t){var n=function(){function n(t){return function(n){var e=n.match(/%(-)?[a-zA-Z]{1}/gi);if(e)for(var a=0,i=e.length;i>a;++a){var r=e[a].match(/%(-)?([a-zA-Z]{1})/),s=new RegExp(r[0]),f=r[1]||"",u=null;r=r[2],o.hasOwnProperty(r)&&(u=o[r],u=Number(t[u])),null!==u&&(""===f&&10>u&&(u="0"+u.toString()),n=n.replace(s,u.toString()))}return n.replace(/%%/,"%")}}function e(t){var n=[];if(n.push(/^[0-9]*$/.source),n.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n=new RegExp(n.join("|")),t instanceof Date)return t;if(String(t).match(n))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}var a=this;a.options={startDate:!1,finalDate:!1,autoStart:!0,precision:500},a.offset={},a.offsetTime=0,a.init=function(n,o,i){if(a.$el=n,a.options=t.extend(a.options,o),a.finalDate=e(a.options.finalDate),a.options.startDate){var r=e(a.options.startDate);a.offsetTime=(new Date).getTime()-r.getTime()}return i&&(a.$el.on("countdown.update",i),a.$el.on("countdown.stop",i),a.$el.on("countdown.finish",i)),a.options.autoStart&&a.start(),a},a.setFinalDate=function(t){a.finalDate=e(t)},a.start=function(){("undefined"===t.type(a.interval)||null===a.interval)&&(a.interval=setInterval(function(){a.update()},a.options.precision))},a.stop=function(){clearInterval(a.interval),a.interval=null,a.dispatchEvent("stop")},a.update=function(){var t=a.finalDate.getTime()+a.offsetTime-(new Date).getTime();t=Math.ceil(t/1e3),t=0>t?0:t,a.offset={seconds:t%60,minutes:Math.floor(t/60)%60,hours:Math.floor(t/60/60)%24,days:Math.floor(t/60/60/24)%7,totalDays:Math.floor(t/60/60/24),weeks:Math.floor(t/60/60/24/7),months:Math.floor(t/60/60/24/30),years:Math.floor(t/60/60/24/365)},0===t?(a.stop(),a.dispatchEvent("finish")):a.dispatchEvent("update")},a.dispatchEvent=function(e){var o=t.Event("countdown."+e);o.finalDate=a.finalDate,o.offset=t.extend({},a.offset),o.format=n(a.offset),a.$el.trigger(o)};var o={y:"years",M:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",m:"minutes",s:"seconds"}};t.fn.countdown=function(e,a){var o="countdown.instance";return this.each(function(){var i=t(this),r=i.data(o)||new n;"string"===t.type(e)&&(e={finalDate:e}),r.init(i,e,a),i.data(o,r)})},n.version="0.1.0"}(jQuery);